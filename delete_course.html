<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Delete Course</title>
    <style>
        /* Reset */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

/* Page */
body {
    font-family: 'Poppins', 'Segoe UI', sans-serif;
    background: #ffffff;
    min-height: 100vh;
    padding: 40px 24px;
    color: #111827;
}

/* Heading */
h2 {
    font-size: 26px;
    font-weight: 600;
    margin-bottom: 28px;
    text-align: center;
}

/* Table */
table {
    width: 90%;
    max-width: 1100px;
    margin: 0 auto;
    border-collapse: separate;
    border-spacing: 0;
    background: #ffffff;
    border-radius: 14px;
    border: 1px solid #e5e7eb;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.06);
    overflow: hidden;
}

/* Header Cells */
th {
    background: #f9fafb;
    color: #374151;
    font-size: 14px;
    font-weight: 600;
    padding: 14px 16px;
    border-bottom: 1px solid #e5e7eb;
}

/* Data Cells */
td {
    padding: 14px 16px;
    font-size: 14px;
    color: #111827;
    border-bottom: 1px solid #f1f5f9;
}

/* Row Hover */
tr:hover td {
    background: #f9fafb;
}

/* Delete Button */
button.deleteBtn {
    padding: 7px 14px;
    font-size: 13px;
    font-weight: 500;
    color: #ffffff;
    background: #ef4444;
    border: none;
    border-radius: 999px;
    cursor: pointer;
    transition: background 0.25s ease, transform 0.25s ease;
}

button.deleteBtn:hover {
    background: #dc2626;
    transform: scale(1.05);
}
   

    </style>
</head>
<body>

<h2>Delete Course</h2>

<table id="coursesTable">
    <thead>
        <tr>
            <th>Course ID</th>
            <th>Course Name</th>
            <th>Course Code</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        <!-- Filled dynamically via JS -->
    </tbody>
</table>

<p id="response"></p>

<script>
async function loadCourses() {
    let res = await fetch('courses_faculty.php'); 
    let courses = await res.json();

    const tbody = document.querySelector("#coursesTable tbody");
    tbody.innerHTML = "";

    courses.forEach(course => {
        const row = document.createElement("tr");
        row.innerHTML = `
            <td>${course.course_id}</td>
            <td>${course.course_name}</td>
            <td>${course.course_code}</td>
            <td><button class="deleteBtn" onclick="deleteCourse(${course.course_id})">Delete</button></td>
        `;
        tbody.appendChild(row);
    });
}

async function deleteCourse(id) {
    if (!confirm("Are you sure you want to delete this course?")) return;

    let res = await fetch(`delete_course.php?id=${id}`);
    let text = await res.text();
    document.getElementById("response").innerText = text;
    loadCourses(); // refresh table
}

// Initial load
loadCourses();
</script>
<a href="facultydashboard.php">
    <button>Go to Dashboard</button>
</a>
</body>
</html>
